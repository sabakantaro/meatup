(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[679],{7952:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/events/create",function(){return r(2596)}])},2066:function(e,t,r){"use strict";var n=r(5893),s=r(7294),a=r(3634);t.Z=function(){var e=(0,s.useContext)(a.AuthContext).currentUser;return(0,n.jsxs)("footer",{className:"grid grid-cols-1 md:grid-cols-3 gap-y-4 px-8 md:px-32 py-14 bg-slate-800 text-white",children:[(0,n.jsxs)("div",{className:"space-y-4 text-xs text-gray-300",children:[(0,n.jsx)("h5",{className:"font-bold",children:"ACCOUNT"}),(0,n.jsx)("a",{className:"hover:text-gray-400 cursor-pointer block",href:"/users/".concat(null==e?void 0:e.id,"/show"),children:"My Page"}),(0,n.jsx)("a",{className:"hover:text-gray-400 cursor-pointer block",href:"/events/create",children:"Become a Host"}),(0,n.jsx)("a",{className:"hover:text-gray-400 cursor-pointer block",href:"/notifications",children:"Notifications"}),(0,n.jsx)("a",{className:"hover:text-gray-400 cursor-pointer block",href:"/chatrooms",children:"Messages"}),(0,n.jsx)("a",{className:"hover:text-gray-400 cursor-pointer block",href:"/signout",children:"Logout"})]}),(0,n.jsxs)("div",{className:"space-y-4 text-xs text-gray-300",children:[(0,n.jsx)("h5",{className:"font-bold pt-3 md:pt-0",children:"DISCOVER"}),(0,n.jsx)("a",{className:"hover:text-gray-400 cursor-pointer block",href:"/search",children:"Search Events"}),(0,n.jsx)("a",{className:"hover:text-gray-400 cursor-pointer block",href:"/search",children:"Workout place"}),(0,n.jsx)("a",{className:"hover:text-gray-400 cursor-pointer block",href:"/search",children:"Sponsored Event"})]}),(0,n.jsxs)("div",{className:"space-y-4 text-xs text-gray-300",children:[(0,n.jsx)("h5",{className:"font-bold pt-3 md:pt-0",children:"MEATUP"}),(0,n.jsx)("a",{className:"hover:text-gray-400 cursor-pointer block",href:"/",children:"About Us"}),(0,n.jsx)("a",{className:"hover:text-gray-400 cursor-pointer block",href:"/",children:"Privacy & Policy"}),(0,n.jsx)("a",{className:"hover:text-gray-400 cursor-pointer block",href:"/",children:"Terms of Service"})]})]})}},1090:function(e,t,r){"use strict";r.d(t,{Z:function(){return f}});var n=r(828),s=r(5893),a=r(7294),c=r(1163),i=r(3520),o=r(286);r(1759),r(5138);var l=r(3634),u=r(2606),d=r(7106),m=function(e){var t=e.items,r=e.button;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(u.v,{as:"div",className:"relative inline-block text-left",children:[r,(0,s.jsx)(d.u,{as:a.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"transform opacity-0 scale-95",children:(0,s.jsx)(u.v.Items,{className:"absolute right-0 z-10 mt-2 w-56 origin-top-right rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:(0,s.jsx)("div",{className:"py-1",children:t.map(function(e){return(0,s.jsx)(u.v.Item,{children:function(t){var r=t.active;return(0,s.jsx)("a",{href:e.href,className:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter(Boolean).join(" ")}(r?"bg-gray-100 text-gray-900":"text-gray-700","block px-4 py-2 text-sm"),children:e.name})}})})})})})]})})},h=r(6162),x=r(1613),f=function(e){var t=e.placeholder,r=(0,c.useRouter)(),d=r.query,f=d.location,p=d.date,g=(0,a.useContext)(l.AuthContext),v=g.currentUser,j=g.isSignedIn,b=(0,n.Z)((0,a.useState)(f||""),2),N=b[0],y=b[1],w=(0,n.Z)((0,a.useState)(!0),2),k=w[0],C=w[1],S=(0,n.Z)((0,a.useState)(!1),2),Z=S[0],_=S[1],E=(0,n.Z)((0,a.useState)(!1),2),D=E[0],F=E[1],P=(0,n.Z)((0,a.useState)(new Date(p)),2),I=P[0],T=P[1];(0,a.useEffect)(function(){T(new Date(p||new Date))},[r]),(0,a.useEffect)(function(){var e=function(){F(window.innerWidth<768)};return window.addEventListener("resize",e),e(),function(){window.removeEventListener("resize",e)}},[]),(0,a.useEffect)(function(){var e=setTimeout(function(){C(!1)},800);return function(){return clearTimeout(e)}},[]);var M=(0,s.jsxs)("div",{className:"flex items-center border-2 rounded-full py-2 shadow-sm m-auto max-w-[400px] w-full mt-5 md:mt-0",children:[(0,s.jsx)("input",{value:N,onChange:function(e){y(e.target.value),_(!0)},className:"flex-grow pl-5 bg-transparent outline-none text-sm text-gray-600 placeholder-gray-400 w-full",type:"text",placeholder:t||"Start your search..."}),(0,s.jsx)(i,{className:"inline-flex h-8 w-9 bg-red-400 text-white rounded-full p-2 cursor-pointer mx-2",onClick:function(){return _(!0)}})]}),A=j?(0,s.jsx)(m,{items:[{name:"Profile",href:"/users/".concat(v&&v.id,"/show")},{name:"Create Event",href:"/events/create"},{name:"Notifications",href:"/notifications"},{name:"Messages",href:"/chatrooms"},{name:"Logout",href:"/signout"}],button:D?(0,s.jsx)(u.v.Button,{children:(0,s.jsx)(h,{className:"h-6"})}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(u.v.Button,{className:"flex items-center space-x-2 border-2 p-2 rounded-full",children:[(0,s.jsx)(h,{className:"h-6"}),(0,s.jsx)(x,{className:"h-6"})]})})}):(0,s.jsx)("button",{className:"inline cursor-pointer",onClick:function(){return r.push("/signin")},children:"Sign In"});return k?(0,s.jsx)("header",{className:"top-0 z-50 bg-white shadow-mb p-5 px-10 border-b border-s-gray-500",children:(0,s.jsxs)("div",{className:"grid grid-cols-3 md:grid-cols-3",children:[D&&(0,s.jsx)("div",{className:"w-5"}),(0,s.jsx)("div",{className:"animate-pulse flex items-center justify-center md:justify-start h-10 cursor-pointer my-auto",children:(0,s.jsx)("div",{className:"bg-gray-300 h-4 w-16 rounded-full"})}),!D&&(0,s.jsx)("div",{className:"animate-pulse flex items-center md:border-2 rounded-full py-2 md:shadow-sm",children:(0,s.jsx)("div",{className:"bg-gray-300 h-4 w-40 rounded-full"})}),(0,s.jsxs)("div",{className:"flex items-center space-x-0 justify-end text-gray-500",children:[(0,s.jsx)("div",{className:"animate-pulse bg-gray-300 h-4 w-20 rounded-full"}),(0,s.jsx)("div",{className:"animate-pulse bg-gray-300 h-4 w-20 rounded-full"})]})]})}):(0,s.jsxs)("header",{className:"top-0 z-50 bg-white shadow-mb p-5 px-10 border-b border-s-gray-500",children:[(0,s.jsxs)("div",{className:"grid grid-cols-3 md:grid-cols-3",children:[D&&(0,s.jsx)("div",{className:"w-5"}),(0,s.jsx)("div",{onClick:function(){return r.push("/")},className:"relative flex item-center justify-center md:justify-start h-10 cursor-pointer my-auto",children:(0,s.jsx)("picture",{children:(0,s.jsx)("img",{src:"/meatup_title.png",alt:"Meatup Logo",className:"h-10 object-contain cursor-pointer"})})}),!D&&M,(0,s.jsxs)("div",{className:"flex items-center space-x-0 justify-end text-gray-500",children:[(0,s.jsx)("p",{className:"hidden md:inline cursor-pointer mr-5",onClick:function(){return r.push("/events/create")},children:"Become a host"}),A]})]}),D&&M,Z&&(0,s.jsxs)("div",{className:"flex flex-col col-span-3 mx-auto items-center",children:[(0,s.jsx)(o.f,{date:I,minDate:new Date,color:"#FD5B61",onChange:function(e){return T(e)},onPreviewChange:function(){return T(null)}}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)("button",{className:"flex-grow text-gray-500",onClick:function(){return _(!1)},children:"Cancel"}),(0,s.jsx)("div",{className:"w-40"}),(0,s.jsx)("button",{className:"flex-grow text-red-400",onClick:function(){r.push({pathname:"/search",query:{location:N,date:I?I.toISOString():null}})},children:"Search"})]})]})]})}},2451:function(e,t,r){"use strict";r.d(t,{EY:function(){return s},yM:function(){return a}});var n=r(4480),s=function(e){return n.Z.get("/events/".concat(e))},a=function(e){return n.Z.post("/events",e)}},73:function(e,t,r){"use strict";r.d(t,{Nc:function(){return a},fQ:function(){return s}});var n=r(4480),s=function(){return n.Z.get("/places")},a=function(e){return n.Z.post("/places",e)}},2596:function(e,t,r){"use strict";r.r(t);var n=r(7568),s=r(828),a=r(655),c=r(5893),i=r(7294),o=r(2451),l=r(73),u=r(3634),d=r(1090),m=r(2066),h=r(9008),x=r.n(h);t.default=function(){var e,t=(0,i.useContext)(u.AuthContext).currentUser,r=(0,s.Z)((0,i.useState)(""),2),h=r[0],f=r[1],p=(0,s.Z)((0,i.useState)(""),2),g=p[0],v=p[1],j=(0,s.Z)((0,i.useState)(0),2),b=j[0],N=j[1],y=(0,s.Z)((0,i.useState)([]),2),w=y[0],k=y[1],C=(0,s.Z)((0,i.useState)(new Date),2),S=C[0],Z=C[1];(0,i.useEffect)(function(){var e;(e=(0,n.Z)(function(){var e;return(0,a.__generator)(this,function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,(0,l.fQ)()];case 1:return console.log(e=t.sent()),(null==e?void 0:e.status)===200?k(null==e?void 0:e.data.places):console.log("No places"),[3,3];case 2:return console.log(t.sent()),[3,3];case 3:return[2]}})}),function(){return e.apply(this,arguments)})()},[]);var _=function(){var e=new FormData;return e.append("title",g),e.append("meeting_datetime",S),e.append("description",h),e.append("userId",null==t?void 0:t.id),e.append("placeId",b),e},E=(e=(0,n.Z)(function(e){var t;return(0,a.__generator)(this,function(r){switch(r.label){case 0:return e.preventDefault(),t=_(),[4,(0,o.yM)(t).then(function(){f(""),v(""),Z(new Date)})];case 1:return r.sent(),[2]}})}),function(t){return e.apply(this,arguments)});return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)(x(),{children:[(0,c.jsx)("title",{children:"Meatup | Create Event Page"}),(0,c.jsx)("link",{rel:"icon",href:"/meatup_logo.png"})]}),(0,c.jsx)(d.Z,{}),(0,c.jsx)("div",{className:"container mx-auto px-4 py-8 max-w-screen-sm",children:(0,c.jsxs)("form",{onSubmit:E,children:[(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("label",{htmlFor:"title",className:"block text-lg font-medium text-gray-700",children:"Title"}),(0,c.jsx)("input",{type:"text",id:"title",className:"border border-gray-300 rounded-md p-2 w-full",value:g,onChange:function(e){return v(e.target.value)}})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("label",{htmlFor:"description",className:"block text-lg font-medium text-gray-700",children:"Description"}),(0,c.jsx)("textarea",{id:"description",className:"border border-gray-300 rounded-md p-2 w-full h-32 resize-none",value:h,onChange:function(e){return f(e.target.value)}})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("label",{htmlFor:"meetingDatetime",className:"block text-lg font-medium text-gray-700",children:"Meeting Datetime"}),(0,c.jsx)("input",{type:"datetime-local",id:"meetingDatetime",className:"border border-gray-300 rounded-md p-2 w-full",value:S,onChange:function(e){return Z(e.target.value)}})]}),(0,c.jsxs)("div",{className:"mb-4",children:[(0,c.jsx)("label",{htmlFor:"placeId",className:"block text-lg font-medium text-gray-700",children:"Select a Place"}),(0,c.jsxs)("select",{id:"placeId",className:"border border-gray-300 rounded-md p-2 w-full",value:b,onChange:function(e){return N(e.target.value)},children:[(0,c.jsx)("option",{value:"",children:"Select a place"}),null==w?void 0:w.map(function(e){return(0,c.jsx)("option",{value:e.id,children:e.location},e.id)})]})]}),(0,c.jsx)("div",{className:"mb-4",children:(0,c.jsx)("button",{type:"submit",className:"bg-red-500 text-white py-2 px-4 rounded-md self-start",disabled:!h||h.length>140,children:"Post"})})]})}),(0,c.jsx)(m.Z,{})]})}},9008:function(e,t,r){e.exports=r(2636)}},function(e){e.O(0,[439,774,888,179],function(){return e(e.s=7952)}),_N_E=e.O()}]);